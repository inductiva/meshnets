# Generate data

Use these scripts to generate data with the Inductiva API.

The first thing that you need to do is export your api key as an
environment variable:

```bash
export INDUCTIVA_API_KEY = <Your API Key>
```

The script `submit_tasks.py` generates data with the `WindTunnel`
scenario available at Inductiva API. The data is generated by running
simulations with this scenario over a dataset of objects, in `.obj`
format. With a dataset of objects prepared, you can submit all the
simulations by running:

```python submit_tasks.py --input_dataset=<path to .obj objects>```

This saves a `.json` file that contains all tasks IDs submitted and
the machine group where they ran.

To monitor the tasks status use the script `monitor_tasks.py` with
`python monitor_tasks.py --path_to_sim_info=<json with ids and machine
group>`. It will output something like:

```bash
I0927 10:09:20.328027 140566996619328 download_tasks.py:26] Number of tasks: 30
I0927 10:09:23.044083 140566996619328 download_tasks.py:47] Tasks still running: 0
I0927 10:09:23.044179 140566996619328 download_tasks.py:48] Tasks successfully completed: 30
I0927 10:09:23.044209 140566996619328 download_tasks.py:50] Tasks failed: 0
I0927 10:09:23.044236 140566996619328 download_tasks.py:51] Tasks killed: 0
I0927 10:09:23.044259 140566996619328 download_tasks.py:52] Other tasks: 0
```

This script also terminates the machine group when all tasks are done.

To then fetch the output of these tasks you can run the script
`download_tasks.py`.
